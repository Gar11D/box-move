<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <link rel ="stylesheet" type = "text/css" href="boxmove.css">
    <title>Box Move</title>
    <script src = "boxMove.js"></script> <!--this worked with test function-->
</head>
<body>
    <h1>Box Move Practice</h1>
    <br>
    <div class="box-container1">
        <div class="box">
            <h3>Box 1</h3>
            <div id="item-box1">
                <span>Item 1</span>
            </div>
        </div>
        <div class ="box" id="button-box1">
            <p>Click on the button below to move the item between boxes</p>
            <button onclick="testFunction()">Click me</button>
        </div>
        <div class="box">
            <h3>Box 2</h3>
            <div id="item-box2">
                <span>Item 1</span>
            </div>
        </div>
    </div>
    <div class="box-container2">
        <div class="box">
            <h3>Array 1</h3>
            <div id="array-box1"> </div>
        </div>
        <div class ="box" id="button-box2">
            <p>Click on the button below to move the array values between boxes</p>
            <div class="button-box-container">
                <button id="left-arrow" onclick="arrayMoveLeft()">Move left</button>
                <div id="arrow-box"> Click on the arrows to move the items </div>
                <button id="right-arrow" onclick="arrayMoveRight()"> Move right</button>
            </div>
        </div>
        <div class="box">
            <h3>Array 2</h3>
            <div id="array-box2"> </div>
        </div>
    </div>
    <div class="box-container3">
        <div class="box">
            <h3>Songlist</h3>
            <div id="array-box3-1">
                <div id="song-detail-box-1">
                </div>
                <div id ="add-remove-select-1">
                    <span onclick="removeSong1()">-</span>
                    <span onclick="addSong1()">+</span>
                </div>
            </div>
            <div id="array-box3-2">
                <div id="song-detail-box-2">
                </div>
                <div id ="add-remove-select-2">
                    <span onclick="removeSong2()">-</span>
                    <span onclick="addSong2()">+</span>
                </div>
            </div>
            <div id="array-box3-3">
                <div id="song-detail-box-3">
                </div>
                <div id ="add-remove-select-3">
                    <span onclick="removeSong3()">-</span>
                    <span onclick="addSong3()">+</span>
                </div>
            </div>
            <div id="array-box3-4">
                <div id="song-detail-box-4">
                </div>
                <div id ="add-remove-select-4">
                    <span onclick="removeSong4()">-</span>
                    <span onclick="addSong4()">+</span>
                </div>
            </div>
            <div id="array-box3-5">
                <div id="song-detail-box-5">
                </div>
                <div id ="add-remove-select-5">
                    <span onclick="removeSong5()">-</span>
                    <span onclick="addSong5()">+</span>
                </div>
            </div>
        </div>
        <div class ="box" id="button-box3">
            <p>Add songs from the songlist to the playlist  using the + and -
            buttons
            </p>
            <!-- <div class="button-box-container">
                <button id="left-arrow">Move left</button>
                <div id="arrow-box"> Click on the arrows to move the items </div>
                <button id="right-arrow"> Move right</button>
            </div> -->
        </div>
        <div class="box">
            <h3> My Playlist </h3>
            <div id="playlist-box">
                <div id="test-div">
                    <b>Click on the button to clear your playlist</b>
                    <button onclick="clearPlaylist()">Clear Playlist</button>
                </div>
            </div>
            
        </div>
    </div>

    <script>
        
        const myArray= [];
        const fruitArray= [' apples', ' bananas', ' oranges', ' pears'];
        
        function displayer() {
            // const fruitArray= [' apples', ' bananas', ' oranges', ' pears'];
            document.getElementById("array-box1").innerHTML = fruitArray;
        }
        
        function displayer2() {
            // const myArray= ['test'];
            document.getElementById("array-box2").innerHTML = myArray;
        }
        displayer();
        displayer2();
        
        const arrayMoveRight = () => {
            fruitArray[0]
                ? (myArray.push(fruitArray[fruitArray.length -1]), 
                   fruitArray.splice(fruitArray.length -1, 1),
                   document.getElementById("array-box2").innerHTML = myArray,
                   document.getElementById("array-box1").innerHTML = fruitArray)
                : alert("Array 1 is empty.");
        }

        const arrayMoveLeft = () => {
            myArray[0]
                ? (fruitArray.push(myArray[myArray.length -1]), 
                   myArray.splice(myArray.length -1, 1),
                   document.getElementById("array-box2").innerHTML = myArray,
                   document.getElementById("array-box1").innerHTML = fruitArray)
                : alert("Array 2 is empty.");
        }

        const songArray= [
            {_id:1, songTitle: 'Umbrella', artist: 'Rihanna',
            album: 'Good Girl Gone Bad'
            },
            {_id:2, songTitle: 'Frozen', artist: 'Madonna', album: 'Ray of Light'},
            {_id:3, songTitle: 'Here with me', artist: 'Dido', album: 'No Angel'},
            {_id:4, songTitle: 'Biology', artist: 'Girls Aloud', album: 'Chemistry'},
            {_id:5, songTitle: 'Girlfriend', artist: 'Avril Lavigne',
            album: 'The Best Damn Thing'}
        ];

        for (let i =0 ; i < songArray.length ; i++) {
            document.getElementById(`song-detail-box-${i + 1}`).innerHTML 
            = 
            songArray[i].songTitle + " | " + songArray[i].artist + " | " +
            songArray[i].album;
        };

        const playlist = [];

        const addSong1 = () => {
            const result1 = songArray.find(x => x._id === 1);
            if (playlist.find(x => x._id === 1)) {
                alert('this song is already in the playlist');
                console.log(playlist);
            }
            else {
                playlist.push(result1);
                const newDiv = document.createElement(`div`);
                newDiv.setAttribute("id", "songId1");
                const newContent = document.createTextNode(
                result1.songTitle + " | " + result1.artist + " | " +
                result1.album
                );
                newDiv.appendChild(newContent);
                const parentDiv = document.getElementById("playlist-box");
                const siblingDiv = document.getElementById("test-div");
                parentDiv.insertBefore(newDiv, siblingDiv);
                console.log(playlist);
            }
        }

        const addSong2 = () => {
            const result2 = songArray.find(x => x._id === 2);
            if (playlist.find(x => x._id === 2)) {
                alert('this song is already in the playlist');
                console.log(playlist);
            }
            else {
                playlist.push(result2);
                const newDiv = document.createElement(`div`);
                newDiv.setAttribute("id", "songId2");
                const newContent = document.createTextNode(
                result2.songTitle + " | " + result2.artist + " | " +
                result2.album
                );
                newDiv.appendChild(newContent);
                const parentDiv = document.getElementById("playlist-box");
                const siblingDiv = document.getElementById("test-div");
                parentDiv.insertBefore(newDiv, siblingDiv);
                console.log(playlist);
            }
        }

        const addSong3 = () => {
            const result3 = songArray.find(x => x._id === 3);
            if (playlist.find(x => x._id === 3)) {
                alert('this song is already in the playlist');
                console.log(playlist);
            }
            else {
                playlist.push(result3);
                const newDiv = document.createElement(`div`);
                newDiv.setAttribute("id", "songId3");
                const newContent = document.createTextNode(
                result3.songTitle + " | " + result3.artist + " | " +
                result3.album
                );
                newDiv.appendChild(newContent);
                const parentDiv = document.getElementById("playlist-box");
                const siblingDiv = document.getElementById("test-div");
                parentDiv.insertBefore(newDiv, siblingDiv);
                console.log(playlist);
            }
        }

        const addSong4 = () => {
            const result4 = songArray.find(x => x._id === 4);
            if (playlist.find(x => x._id === 4)) {
                alert('this song is already in the playlist');
                console.log(playlist);
            }
            else {
                playlist.push(result4);
                const newDiv = document.createElement(`div`);
                newDiv.setAttribute("id", "songId4");
                const newContent = document.createTextNode(
                result4.songTitle + " | " + result4.artist + " | " +
                result4.album
                );
                newDiv.appendChild(newContent);
                const parentDiv = document.getElementById("playlist-box");
                const siblingDiv = document.getElementById("test-div");
                parentDiv.insertBefore(newDiv, siblingDiv);
                console.log(playlist);
            }
        }

        const addSong5 = () => {
            const result5 = songArray.find(x => x._id === 5);
            if (playlist.find(x => x._id === 5)) {
                alert('this song is already in the playlist');
                console.log(playlist);
            }
            else {
                playlist.push(result5);
                const newDiv = document.createElement(`div`);
                newDiv.setAttribute("id", "songId5");
                const newContent = document.createTextNode(
                result5.songTitle + " | " + result5.artist + " | " +
                result5.album
                );
                newDiv.appendChild(newContent);
                const parentDiv = document.getElementById("playlist-box");
                const siblingDiv = document.getElementById("test-div");
                parentDiv.insertBefore(newDiv, siblingDiv);
                console.log(playlist);
            }
        }

        // https://stackoverflow.com/questions/15287865/remove-array-element-based-on-object-property
        // try above page for song remove function;
        //the below removeSong functions using if/else do not work. iterate backwards using for loop instead

        // const removeSong1 = () => {
        //     const result1 = playlist.find(x => x._id === 1);
        //     if (result1) {
        //         // playlist.splice(result);
        //         playlist.splice(result1, 1);
        //         // console.log(playlist);
        //         const element1 = document.getElementById("songId1");
        //         element1.remove();
        //         console.log(playlist);
        //     }
        //     else {
        //         alert("this song isn't in the playlist")
        //         console.log(playlist);
        //     }
        // }

        // const removeSong2 = () => {
        //     const result2 = playlist.find(x => x._id === 2);
        //     if (result2) {
        //         // playlist.splice(result);
        //         playlist.splice(result2, 1);
        //         const element2 = document.getElementById("songId2");
        //         element2.remove();
        //         console.log(playlist);
        //     }
        //     else {
        //         alert("this song isn't in the playlist")
        //         console.log(playlist);
        //     }
        // }
            
            const removeSong1 = () => {
                for (let i = playlist.length - 1; i >= 0; i--) {
                    if (playlist[i]._id === 1) {
                    playlist.splice(i, 1);
                    const element1 = document.getElementById("songId1");
                    element1.remove();
                    console.log(playlist);
                    }
                }
            };

            const removeSong2 = () => {
                for (let i = playlist.length - 1; i >= 0; i--) {
                    if (playlist[i]._id === 2) {
                    playlist.splice(i, 1);
                    const element2 = document.getElementById("songId2");
                    element2.remove();
                    console.log(playlist);
                    }
                }
            };

            const removeSong3 = () => {
                for (let i = playlist.length - 1; i >= 0; i--) {
                    if (playlist[i]._id === 3) {
                    playlist.splice(i, 1);
                    const element3 = document.getElementById("songId3");
                    element3.remove();
                    console.log(playlist);
                    }
                }
            };

            const removeSong4 = () => {
                for (let i = playlist.length - 1; i >= 0; i--) {
                    if (playlist[i]._id === 4) {
                    playlist.splice(i, 1);
                    const element4 = document.getElementById("songId4");
                    element4.remove();
                    console.log(playlist);
                    }
                }
            };

            const removeSong5 = () => {
                for (let i = playlist.length - 1; i >= 0; i--) {
                    if (playlist[i]._id === 5) {
                    playlist.splice(i, 1);
                    const element5 = document.getElementById("songId5");
                    element5.remove();
                    console.log(playlist);
                    }
                }
            };

            const clearPlaylist = () => {
                if (playlist.length > 0) {
                    for (let i = playlist.length - 1; i >=0; i-- ) {
                        playlist.splice(i, 1);
                    }
                }
                console.log(playlist);
                for (let j = 0; j <= 5; j++) {
                    const element = document.getElementById(`songId${j}`);
                    if (element) { element.remove()};
                }
            }

    </script>
</body>